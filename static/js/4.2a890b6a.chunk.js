(this["webpackJsonpreact-weather-sample"]=this["webpackJsonpreact-weather-sample"]||[]).push([[4],{581:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(575),c=t(149),i=t(23),o=t.n(i),m=t(35),s=t(53),u=t(323),d=t.n(u),E=t(144),p=t(50),h=t(150),b=t(70),g=t(71),C=t(580),f=t(571),v=t(146),y=t(583),w=t(237),j=t.n(w),O=t(343),x=t.n(O),L=t(344),M=t.n(L),A=t(148),S=t(147),k=t(157),N=Object(S.a)((function(e){return Object(k.a)({loadingIcon:{padding:e.spacing(1.5)},iconButton:{color:e.palette.primary.main}})})),T=function(e){var a=N();return r.a.createElement("form",{onSubmit:e.onSearch},r.a.createElement(C.a,{fullWidth:!0,id:"city-search",label:"Search city",placeholder:"Enter city to search",error:!!e.errorMessage,helperText:e.errorMessage,value:e.value,onChange:e.onChange,variant:"outlined",InputProps:{endAdornment:r.a.createElement(f.a,{position:"end"},r.a.createElement(y.a,{title:e.geolocationAvailable?"Use current location":"Geolocation is not available"},r.a.createElement("span",null,r.a.createElement(v.a,{disabled:!e.geolocationAvailable,"aria-label":"get current location",onClick:e.onGetLocation,className:a.iconButton},e.geolocationAvailable?r.a.createElement(x.a,null):r.a.createElement(M.a,null)))),e.searching?r.a.createElement(A.a,{className:a.loadingIcon,size:24}):r.a.createElement(y.a,{title:"Search"},r.a.createElement("span",null,r.a.createElement(v.a,{disabled:!e.value,className:a.iconButton,component:"button",type:"submit","aria-label":"Search"},r.a.createElement(j.a,null)))))}}))},I=t(543),D=t(290),B=t.n(D),W=t(291),H=t.n(W),F=t(52),z=Object(S.a)((function(){return Object(k.a)({legendLabel:{textTransform:"capitalize"},errorContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"}})})),V=t(572),_=Object(S.a)((function(e){return Object(k.a)({container:{padding:e.spacing()},minTemperatureLabel:{color:B.a[600]},maxTemperatureLabel:{color:H.a[900]},divider:{marginTop:e.spacing(.5),marginBottom:e.spacing()}})})),P=function(e){return"maxTemperature"===e?"Max Temperature":"Min Temperature"},G=function(e){var a=_();return e.active&&e.payload?r.a.createElement(E.a,{className:a.container,elevation:4},r.a.createElement(c.a,{variant:"h6"},e.label),r.a.createElement(V.a,{className:a.divider}),r.a.createElement(c.a,{className:a.minTemperatureLabel},P(e.payload[0].name),": ",e.payload[0].value>0?"+":"",Math.round(+e.payload[0].value)),r.a.createElement(c.a,{className:a.maxTemperatureLabel},P(e.payload[1].name),": ",e.payload[1].value>0?"+":"",Math.round(+e.payload[1].value))):null},K=Object(n.memo)((function(e){var a=e.data,t=e.loading,n=void 0!==t&&t,l=e.hasError,i=void 0!==l&&l,o=z(),m=B.a[600],s=H.a[900];return i?r.a.createElement(F.a,{loading:n},r.a.createElement("div",{className:o.errorContainer},r.a.createElement(c.a,{variant:"h3",component:"span",gutterBottom:!0},"Oops!"),r.a.createElement(c.a,null,"An error has occurred while loading graph data"))):0===a.length?r.a.createElement(F.a,{loading:n},r.a.createElement("div",{className:o.errorContainer},r.a.createElement(c.a,{variant:"h3",component:"span",gutterBottom:!0},"No data!"),r.a.createElement(c.a,null,"To display forecast graph enter your city name in search field and hit ",r.a.createElement(j.a,null)," button"))):r.a.createElement(F.a,{loading:n},r.a.createElement(I.f,null,r.a.createElement(I.b,{data:a,margin:{right:16}},r.a.createElement(I.h,{tickFormatter:function(e){return e.slice(0,3)},dataKey:"dayOfWeek"}),r.a.createElement(I.i,{tickFormatter:function(e){return"".concat(e>0?"+":"").concat(e,"\xb0")}}),r.a.createElement(I.g,{content:r.a.createElement(G,null)}),r.a.createElement(I.d,{formatter:function(e){return r.a.createElement("span",{className:o.legendLabel},"minTemperature"===e?"Min":"Max")}}),r.a.createElement(I.e,{y:0}),r.a.createElement(I.c,{strokeDasharray:"3 3 "}),r.a.createElement(I.a,{dataKey:"minTemperature",fill:m}),r.a.createElement(I.a,{dataKey:"maxTemperature",fill:s}))))}));K.displayName="ForecastGraph";var R=t(582),U=t(573),Z=function(e){return r.a.createElement(R.a,{value:e.currentTab,onChange:e.onTabChange,indicatorColor:"primary",textColor:"primary",variant:e.largeScreen?"standard":"fullWidth",centered:e.largeScreen,"aria-label":"tabs control to pick between week forecast and current weather"},r.a.createElement(U.a,{label:"Forecast",id:"forecast-tab","aria-controls":"forecast-panel","aria-label":"forecast tab"}),r.a.createElement(U.a,{disabled:e.currentWeatherDisabled,label:"Current weather",id:"current-weather-tab","aria-controls":"current-weather-panel","aria-label":"current weather tab"}))},J=t(570),q=t(576),Q=t(578),X=Object(S.a)({sunriseSunsetContainer:{width:"100%",display:"flex",justifyContent:"space-evenly"},sunriseIcon:{color:"#EC6E4C"},sunsetIcon:{color:"#EC6E4C"},weatherContainer:{display:"flex",justifyContent:"center",alignItems:"center"},weatherDescription:{display:"inline-block",textTransform:"capitalize"},weatherIcon:{display:"inline-block"},windDirectionIcon:function(e){return{transform:"rotate(".concat(e,"deg)")}}}),Y=t(577),$=t(535),ee=t.n($),ae=t(537),te=t.n(ae),ne=t(536),re=t.n(ne),le=t(538),ce=t.n(le),ie=t(540),oe=t.n(ie),me=t(539),se=t.n(me),ue=t(541),de=t.n(ue),Ee=t(542),pe=t.n(Ee),he=t(574),be=function(e){return r.a.createElement(he.a,e,r.a.createElement("svg",{style:{width:24,height:24},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M9,12C9.53,12.14 9.85,12.69 9.71,13.22L8.41,18.05C8.27,18.59 7.72,18.9 7.19,18.76C6.65,18.62 6.34,18.07 6.5,17.54L7.78,12.71C7.92,12.17 8.47,11.86 9,12M13,12C13.53,12.14 13.85,12.69 13.71,13.22L11.64,20.95C11.5,21.5 10.95,21.8 10.41,21.66C9.88,21.5 9.56,20.97 9.7,20.43L11.78,12.71C11.92,12.17 12.47,11.86 13,12M17,12C17.53,12.14 17.85,12.69 17.71,13.22L16.41,18.05C16.27,18.59 15.72,18.9 15.19,18.76C14.65,18.62 14.34,18.07 14.5,17.54L15.78,12.71C15.92,12.17 16.47,11.86 17,12M17,10V9A5,5 0 0,0 12,4C9.5,4 7.45,5.82 7.06,8.19C6.73,8.07 6.37,8 6,8A3,3 0 0,0 3,11C3,12.11 3.6,13.08 4.5,13.6V13.59C5,13.87 5.14,14.5 4.87,14.96C4.59,15.43 4,15.6 3.5,15.32V15.33C2,14.47 1,12.85 1,11A5,5 0 0,1 6,6C7,3.65 9.3,2 12,2C15.43,2 18.24,4.66 18.5,8.03L19,8A4,4 0 0,1 23,12C23,13.5 22.2,14.77 21,15.46V15.46C20.5,15.73 19.91,15.57 19.63,15.09C19.36,14.61 19.5,14 20,13.72V13.73C20.6,13.39 21,12.74 21,12A2,2 0 0,0 19,10H17Z"})))},ge=function(e){return r.a.createElement(he.a,e,r.a.createElement("svg",{style:{width:24,height:24},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M3,12H7A5,5 0 0,1 12,7A5,5 0 0,1 17,12H21A1,1 0 0,1 22,13A1,1 0 0,1 21,14H3A1,1 0 0,1 2,13A1,1 0 0,1 3,12M15,12A3,3 0 0,0 12,9A3,3 0 0,0 9,12H15M12,2L14.39,5.42C13.65,5.15 12.84,5 12,5C11.16,5 10.35,5.15 9.61,5.42L12,2M3.34,7L7.5,6.65C6.9,7.16 6.36,7.78 5.94,8.5C5.5,9.24 5.25,10 5.11,10.79L3.34,7M20.65,7L18.88,10.79C18.74,10 18.47,9.23 18.05,8.5C17.63,7.78 17.1,7.15 16.5,6.64L20.65,7M12.71,16.3L15.82,19.41C16.21,19.8 16.21,20.43 15.82,20.82C15.43,21.21 14.8,21.21 14.41,20.82L12,18.41L9.59,20.82C9.2,21.21 8.57,21.21 8.18,20.82C7.79,20.43 7.79,19.8 8.18,19.41L11.29,16.3C11.5,16.1 11.74,16 12,16C12.26,16 12.5,16.1 12.71,16.3Z"})))},Ce=function(e){return r.a.createElement(he.a,e,r.a.createElement("svg",{style:{width:24,height:24},viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"currentColor",d:"M3,12H7A5,5 0 0,1 12,7A5,5 0 0,1 17,12H21A1,1 0 0,1 22,13A1,1 0 0,1 21,14H3A1,1 0 0,1 2,13A1,1 0 0,1 3,12M15,12A3,3 0 0,0 12,9A3,3 0 0,0 9,12H15M12,2L14.39,5.42C13.65,5.15 12.84,5 12,5C11.16,5 10.35,5.15 9.61,5.42L12,2M3.34,7L7.5,6.65C6.9,7.16 6.36,7.78 5.94,8.5C5.5,9.24 5.25,10 5.11,10.79L3.34,7M20.65,7L18.88,10.79C18.74,10 18.47,9.23 18.05,8.5C17.63,7.78 17.1,7.15 16.5,6.64L20.65,7M12.71,20.71L15.82,17.6C16.21,17.21 16.21,16.57 15.82,16.18C15.43,15.79 14.8,15.79 14.41,16.18L12,18.59L9.59,16.18C9.2,15.79 8.57,15.79 8.18,16.18C7.79,16.57 7.79,17.21 8.18,17.6L11.29,20.71C11.5,20.9 11.74,21 12,21C12.26,21 12.5,20.9 12.71,20.71Z"})))},fe=function(e){return function(e){var a=Math.abs(Math.floor(e/360));return e<0?360*a+e:e>=360?e-360*a:e}(e+180)},ve=function(e){return e>0?"+".concat(Math.round(e)):Math.round(e).toString(10)},ye=Object(n.memo)((function(e){var a,t=Object(n.useMemo)((function(){return fe(e.windDeg)}),[e.windDeg]),i=X(t);return r.a.createElement(l.a,{container:!0},r.a.createElement(l.a,{item:!0,xs:12,md:5,lg:4,xl:3},r.a.createElement(l.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(c.a,null,e.date),r.a.createElement("span",{className:i.weatherContainer},r.a.createElement("img",{className:i.weatherIcon,alt:e.weatherDescription,src:e.weatherIcon}),r.a.createElement(c.a,{className:i.weatherDescription,variant:"h4"},e.weatherDescription)),r.a.createElement(c.a,{gutterBottom:!0,variant:"h2"},ve(e.temperature),"\xb0"),r.a.createElement(c.a,{gutterBottom:!0,variant:"h4"},"Feels like: ",ve(e.feelsLike),"\xb0"),r.a.createElement(c.a,{gutterBottom:!0,component:"span",className:i.sunriseSunsetContainer},r.a.createElement(c.a,{align:"center",variant:"h5",display:"inline"},r.a.createElement(ge,{className:i.sunriseIcon})," Sunrise at ",e.sunrise),r.a.createElement(c.a,{align:"center",variant:"h5",display:"inline"},r.a.createElement(Ce,{className:i.sunsetIcon})," Sunset at ",e.sunset)))),r.a.createElement(l.a,{item:!0,xs:12,md:7,lg:8,xl:9},r.a.createElement(J.a,null,r.a.createElement(q.a,null,r.a.createElement(Y.a,null,r.a.createElement(ee.a,null)),r.a.createElement(Q.a,{primary:"".concat(e.pressure," hPa"),secondary:"Atmospheric pressure"})),r.a.createElement(V.a,null),r.a.createElement(q.a,null,r.a.createElement(Y.a,null,r.a.createElement(re.a,null)),r.a.createElement(Q.a,{primary:"".concat(e.humidity," %"),secondary:"Humidity"})),r.a.createElement(V.a,null),r.a.createElement(q.a,null,r.a.createElement(Y.a,null,r.a.createElement(te.a,null)),r.a.createElement(Q.a,{primary:"".concat(e.clouds," %"),secondary:"Clouds"})),r.a.createElement(V.a,null),r.a.createElement(q.a,null,r.a.createElement(Y.a,null,r.a.createElement(ce.a,null)),r.a.createElement(Q.a,{primary:e.uvIndex,secondary:"Midday UV Index"})),r.a.createElement(V.a,null),r.a.createElement(q.a,null,r.a.createElement(Y.a,null,r.a.createElement(se.a,null)),r.a.createElement(Q.a,{primary:"".concat(e.visibility," m"),secondary:"Visibility"})),r.a.createElement(V.a,null),e.rain&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null,r.a.createElement(Y.a,null,r.a.createElement(be,null)),r.a.createElement(Q.a,{primary:"".concat(e.rain," mm"),secondary:"Rain last 1 hour"})),r.a.createElement(V.a,null)),e.snow&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,null,r.a.createElement(Y.a,null,r.a.createElement(oe.a,null)),r.a.createElement(Q.a,{primary:"".concat(e.snow," mm"),secondary:"Snow last 1 hour"})),r.a.createElement(V.a,null)),r.a.createElement(q.a,null,r.a.createElement(Y.a,null,r.a.createElement(de.a,null)),r.a.createElement(Q.a,{primary:"".concat(e.windSpeed," m/s"),secondary:"Wind speed"})),r.a.createElement(V.a,null),r.a.createElement(q.a,null,r.a.createElement(Y.a,null,r.a.createElement(pe.a,{className:i.windDirectionIcon})),r.a.createElement(Q.a,{primary:(a=t,a>337.5||a<=22.5?"North":a>22.5&&a<=67.5?"North-East":a>67.5&&a<=112.5?"East":a>112.5&&a<=157.5?"South-East":a>157.5&&a<=202.5?"South":a>202.5&&a<=247.5?"South-West":a>247.5&&a<=292.5?"West":"North-West"),secondary:"Wind direction"})))))}));ye.displayName="CurrentWeather";var we=t(72),je=t(56),Oe=function(){var e=Object(m.a)(o.a.mark((function e(){var a,t,n,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a();case 2:return a=e.sent,t=Object(s.a)(a,2),n=t[0],r=t[1],e.next=8,je.b(n,r);case 8:return l=e.sent,e.abrupt("return",{location:l.data.display_name,coordinates:{lat:n,lng:r}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=t(51),Le=Object(S.a)((function(e){var a;return Object(k.a)({searchContainer:{margin:e.spacing()},graphContainer:{padding:e.spacing(),margin:e.spacing()},chart:(a={},Object(xe.a)(a,e.breakpoints.down("sm"),{height:300}),Object(xe.a)(a,e.breakpoints.up("sm"),{height:400}),Object(xe.a)(a,e.breakpoints.up("lg"),{height:500}),a)})})),Me=t(17),Ae=t(73),Se=t(66),ke=t(14),Ne=t(65),Te=Object(ke.a)((function(e){return e.weather.current}),(function(e){if(null===e)return e;var a=e.weather,t=a.icon,n=a.description,r=Object(Ae.a)(e,["weather"]);return Object(Me.a)(Object(Me.a)({},r),{},{date:Se.DateTime.fromMillis(r.date).toLocaleString(Se.DateTime.DATETIME_FULL),sunrise:Se.DateTime.fromMillis(r.sunrise).toLocaleString(Se.DateTime.TIME_24_SIMPLE),sunset:Se.DateTime.fromMillis(r.sunset).toLocaleString(Se.DateTime.TIME_24_SIMPLE),weatherDescription:n,weatherIcon:Object(Ne.b)(t)})})),Ie=function(){var e=Le(),a=Object(n.useState)(!!navigator.geolocation),t=Object(s.a)(a,2),c=t[0],i=t[1],u=Object(n.useState)(""),C=Object(s.a)(u,2),f=C[0],v=C[1],y=Object(n.useState)(0),w=Object(s.a)(y,2),j=w[0],O=w[1],x=Object(b.c)((function(e){return e.weather})),L=x.isLoading,M=x.forecast,A=x.errorMessage,S=Object(b.c)(Te),k=Object(n.useContext)(g.a).snackbar,N=Object(b.b)(),I=Object(p.a)(),D=Object(h.a)(I.breakpoints.up("lg"));Object(n.useEffect)((function(){A&&k.error(A)}),[k,A]);var B=Object(n.useCallback)((function(e){v(e.currentTarget.value)}),[]),W=Object(n.useCallback)((function(e){e.preventDefault(),N(Object(we.b)(f))}),[N,f]),H=Object(n.useCallback)(Object(m.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe();case 3:a=e.sent,v(a.location),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),k.error(e.t0.message),e.t0.isAxiosError||i(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[k]),z=Object(n.useCallback)((function(e,a){O(a)}),[]),V=Object(n.useCallback)((function(e){O(e)}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:e.searchContainer},r.a.createElement(l.a,{container:!0},r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(T,{value:f,searching:L,geolocationAvailable:c,errorMessage:A,onChange:B,onSearch:W,onGetLocation:H})))),r.a.createElement(E.a,{className:e.graphContainer,elevation:2},r.a.createElement(l.a,{container:!0},r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(Z,{currentWeatherDisabled:null===S,currentTab:j,onTabChange:z,largeScreen:D}),r.a.createElement(d.a,{axis:"rtl"===I.direction?"x-reverse":"x",index:j,onChangeIndex:V},r.a.createElement(F.c,{id:"forecast-panel","aria-labelledby":"forecast-tab",value:j,index:0,dir:I.direction,wrapperProps:{className:e.chart}},r.a.createElement(K,{data:M,loading:L,hasError:!!A})),r.a.createElement(F.c,{id:"current-weather-panel","aria-labelledby":"current-weather-tab",value:j,index:1,dir:I.direction},S&&r.a.createElement(ye,S)))))))},De=Object(S.a)((function(e){var a;return{pageContainer:{flexDirection:"column",width:"100%",minHeight:"100vh",justifyContent:"center"},row:{justifyContent:"center",alignItems:"center"},title:(a={textAlign:"center",paddingLeft:e.spacing(),paddingRight:e.spacing()},Object(xe.a)(a,e.breakpoints.down("xl"),{fontSize:"5.9rem"}),Object(xe.a)(a,e.breakpoints.down("md"),{fontSize:"4rem"}),Object(xe.a)(a,e.breakpoints.down("sm"),{fontSize:"3.75rem"}),Object(xe.a)(a,e.breakpoints.down("xs"),{fontSize:"2.1rem"}),a)}}));a.default=function(){var e=De();return r.a.createElement(l.a,{container:!0,className:e.pageContainer},r.a.createElement(l.a,{container:!0,className:e.row},r.a.createElement(l.a,{item:!0,md:8,sm:10,xs:12},r.a.createElement(c.a,{className:e.title,variant:"h1"},"React Weather forecast"))),r.a.createElement(l.a,{container:!0,className:e.row},r.a.createElement(l.a,{item:!0,md:8,sm:10,xs:12},r.a.createElement(Ie,null))))}}}]);
//# sourceMappingURL=4.2a890b6a.chunk.js.map